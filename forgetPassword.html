<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<form  action="forgetpass" method="get">
	<p id="p" style="display:none">Passwords are not same!...</p>
	<label>Enter User Id :</label>
		<input id="first" type = "text" name = "userid" >
		<br>
		<p id ="id1" style="display:none">Email address is Wrong.(xxxx@gmail.com)</p>
   		<br><br>
		<label>Enter new Password :</label>
		<input id="second" type = "text" name = "pass" onmouseover="idCheck()" >
		<br>
		<p id="id2" style="display:none">Password not Strong.( Atleast 1 Capital and 1 Special characters.Total 8-15 letters)</p>
   		<br><br>
		<label>Confirm Password :</label>
		<input id="third" type = "text" name ="confirm" onmouseover = "passwordCheck()" >
		<br>
		<p id="id3" style="display:none">Check your confirm password</p>
   		<br><br>
		<input type="checkbox"  onmouseover = "confirmCheck()" onclick="summa()" >check<br>
		<button type="submit" id="button" style="display:none;">submit</button>
		</form>
	
	<script>
	function summa(){
		if(document.getElementById("first").style.borderColor == "red" ){document.getElementById("id1").style.display = "block";}
		if(document.getElementById("second").style.borderColor == "red" ){document.getElementById("id2").style.display = "block";}
		if(document.getElementById("third").style.borderColor == "red" ){document.getElementById("id3").style.display = "block";}
		
	}
	function idCheck(){
		var userid = document.getElementById("first").value;
		var index = userid.indexOf("@gmail.com");
		if(index == -1) document.getElementById("first").style.border = "1px solid red";
		else document.getElementById("first").style.border = "1px solid green";
	}
	function passwordCheck(){
   		var password = document.getElementById("second").value;
   		//var confirm = document.getElementById("third").value;
        //document.getElementById("second").style.border = "1px solid green";
        var special = 0, letters = 0, capital = 0;
        
        for(let i = 0; i < password.length; i++){
            letters++;
            if (password.charAt(i) >= 'A' && password.charAt(i) <= 'Z') capital++;
            else if ((password.charAt(i) >= 'a' && password.charAt(i) <= 'z') || (password.charAt(i) >= '0' && password.charAt(i) <= '9')) continue;
            else special++;
        }
         if( (letters >= 8 && letters <= 15) && special <= 1 && capital <= 1){
        	 document.getElementById("second").style.border = "1px solid green";
         }
         else {
        	 document.getElementById("second").style.border = "1px solid red";
        	 //document.getElementById("id2").style.display = "block";
         }
		    
    }
		function confirmCheck(){
			var password = document.getElementById("second").value;
   		var confirm = document.getElementById("third").value;
   		if(document.getElementById("second").style.border === "1px solid red") document.getElementById("third").style.border = "1px solid red"
   		else if( password === confirm ){
   			document.getElementById("third").style.border = "1px solid green";
   			if( document.getElementById("second").style.borderColor == "green" && 
   					document.getElementById("first").style.borderColor == "green"){
   				document.getElementById("button").style.display = "block";
   				
   			}
   			
   		}
   		else {
   			document.getElementById("third").style.border = "1px solid red" ;
   			
				
   			
   		}

		}
	</script>
</body>
</html>